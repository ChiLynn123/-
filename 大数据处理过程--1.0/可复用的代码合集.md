# 可复用的代码合集

1、获取ip及归属地

```python
from qqwry import QQwry # pip install qqwry-py3
from IPy import IP
import socket
import eventlet
eventlet.monkey_patch()
q = QQwry()
q.load_file('qqwry.dat')

try:
    with eventlet.Timeout(1, False):
        ip = socket.gethostbyname(url)
except Exception as e:
    pass
else:
    address = list(q.lookup(ip))
```

2、获取文件路径下的所有子文件：

```python 
import os
allxls=os.listdir(filePath)  # 为一个list
```

3、threading多线程执行

```python 
import threading
# 若函数只有一个参数也要这么写
for i in range(thread_num):
     t = threading.Thread(target=函数名称, args=(函数参数1,参数2))
            threads.append(t)
 for t in threads:
     t.setDaemon(True)
     t.start()
 for t in threads:
     t.join()
```

